# more details for build customization see http://docs.travis-ci.com/user/customizing-the-build/
language: java

# use the container based infrastructure on travis
sudo: false

jdk:
  - oraclejdk11
  - oraclejdk12
  - oraclejdk13
  - openjdk8
  - openjdk11
  - openjdk12
  - openjdk13

# enable cache to stop downloading all maven plugins every time
cache:
  directories:
    - "$HOME/.m2/repository"

# do some preparations before the install phase
before_install:
  - pip install --user codecov

# No need to run mvn install, so skip this step
install: skip

# emulate a display for the gui tests
before_script:
  - "export DISPLAY=:99.0"
  - "/sbin/start-stop-daemon --start --quiet --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac -screen 0 1280x1024x16"

# run branch dependent build using a separate script
# make sure, script is executable (http://blog.lesc.se/2011/11/how-to-change-file-premissions-in-git.html)
script: "./cicd/gcviewer-script.sh"

after_success:
  - codecov

# for configuration of maven deploy see http://knowm.org/configure-travis-ci-to-deploy-snapshots/
env:
  global:
  - GPG_DIR="`pwd`/cicd/gpg"
  - secure: arRS4YHFdZWyl7KmduSdzOF1JGm1qOWDLp1fwtzCkGUx58G3RrhhBIynK3TuSnnUTYsmS+DyxR/R+v3QhaEjschR4Aeolq9StJGvUBssTS+oCqcLe3qLiHyy9YClCb8xSPebYNgrxEox0MuEGG73TFRUrGLHxesBo9OfLgIiGpV+kez2cBD+iFWEfNA9oeO3x3fa7Ry/YBrRfUkA5gKR41Bw/oOf+5T0HAKMpfMMmCneu7EtA3z7cWHhEEBwydwUI+szS3ozsbyUcleLwTlwabLXEB3rF3c/rU2Zy/1CLfWzJwCmy47HfclTalj/ckNxh5pK9aQwVqFM3B8ECPBUOksYm28oREgcRFbLqrtRnrKMM5tvqHXsb3r7VyJkNzFenV8e3WES8kCL7z5yuCstac395AlLRBCWTEWbHiiKTIYfx4awY5lK2CxptCf+8mzzkfltQp6HOViLw+X9c/G4MNTUWlDeMnw3JB81Rm5qaKv4gNjq9G0cPS9rzRN6SwksIEZ2i2JmVzCOoU7tWgH6ahcBDU3jJI3bwODzkzND5j0y9jKtooYEKPAH2v5b/uB/6KIlCLa/jZQcCzuTrOlKT6/Zcxl4aDUonuJ8vUDl3gMj72iqZpNosqOWIL0YVy8wlmxCaai3MK2H1647Mw5DXWzIciSN/TLwCjF3344fxHc=
  - secure: L2mbuVWefCqtdy9qNcVtxW5nI2/kLY6vTXasQ19mevfxCHcyN23d8zDvCU0lRT9k9k9znXrF3JppzLwW2wkZo72XADQj+hfCSCB8axu1NQPPi3IMkFe4/c/mEXRVHYvukEjTX10BmZUfjL2H2XRiLM2eOunbRxyE6DfmIz6HuW5LS3iNi9BZQce6iHm/jG0Li+SxCgqetwZ3/Gowl1vo5vfg+xVnqTalYuSfvlJAAKfZdkw47/5T0np7ooD4W0TfFohFpq2DlVK1m27qSc0tDe9CT7YkAXid7giVfe+RC5rEoJhKf87wuKC/hitUS+OJb6hJg3IVGhsiA44w57eK6g7Gm+nDrJzId8XOYugy7VaIaVMJjoqWG8AnhbFzh2/ioWq4jI7xmjzBnKSak+DpxPvEs26WEE12m3nJVQvFpvoTTusnJuS2zUYk6ZSupdv8rw3fsIKHYepNyiCHau0WGgs1kqApA6bY3V42FFakC57x5dL5RNi54MBOzS9JBoQ6BsUewtarIdxsKUawA9TKC2M1IRI2poS0Zex9BslV08KBfzSvSI1h06kRaR6S35CwqlWnVcC+ZK4l3vOtpPYOGAo8F8OLONcUYuGMMQH+Eycvnd7yyLSbDEaEkNEBYL1uBSw6ZbRQzlFIS8v2t6BDed37WWLDD+TGnODcVJ7lhG8=
  - secure: UunPp8yEYLSgQez5CUk9qdi1QQGidDQlojrScsKtz/ixhm+dv1aqu+SeqVEVFjRvCeqghB+TGufw1mxkjNwsOL+hZDmsnfex+ZR6c1swk19BarlhKVc6+lAJ/2KsOaXjdAnS5w0Xyhqp+BMJxjYfhLaaSZj1+AUiXsG4dhRzl8jylx5caJu3jG3DN0wYVM54wHpx3Vz0Rx8oDLpr6Clh8dctvxJz88cT3OH2zDiMOfSMbrfOE4ENbRDCrX/ktQl2w6L8VBu29srIUqv862Pia9F6mjsZNuWJZu/yidnX/q+ctQawT0BQJJ1U9BhWKEKhOeS5AwSiBISxtvXU4gChSqOSrSe87Zt00ndlL+LkanSbehvGEaoRmi1AKxTh/jPvkiiiYj/yH3Rh+gLvkIxDQk0tvMvT42X1GblRS4aPAxGwYb/1Sx/3VThOpGSNRyH5xC8Ccr7AmOjcZUTUm0ZV45XX2QUiAlTJvrsbW1yvWyCdsYh36fxWgLdaokhbb4APkwDQTnQZ3zMyNSMqb4v/3gTWmZmMDtXrQ6/YHdufhuDJeCt3ibFdd5BX6GFS3zQ+GKPE4lHtexR8BnFA1hLfH0jIDnAduA5mgX4w6G/dSw7Bf7HGROwB2jBSRAVgruF3kTT3M9S+0rOgceuZTTeUvfl/KLAFeS5j2mO5qmdOPQE=
  - secure: hfbgSnGViHzpZBIUehTm0na8CPBGXTASeOwgxzH2fiJuTQtp/hGO3bNo5zhPW+wMWj5or5EgmcTbRVQUu6zfOmaECi1Vf1Ul42qimlR8NLCBLSoPIcBgO2re/jQFZNUe6NTAoZsVAtMaBplmeOydrjFFb1NqufbSqVX2H7IrjwIFjc/E7vG+pgjBaPh6SMWrhZHUK+aID9Ssssr9KZc2lzq1rqSC1U2M/SQf9EbVEAxkyuR77aZhnkjZlUo97gmVBscStso4bUEgU54gYL0NiSiOrRhH+8N/mb/AJMyn/KGgyNJMai0wMn4WW381iVf4huG95C/RcQOYG/OEGBuR7N1yQEVhtV3SAJPBWXp3fQcL6CnWkn4N2Tc66sjbhAD06p5fSY2YWd5uGCzG9qvw3GABcHLx5q1rpBiwgHKHF+79subsYkhhUhXHSikh8ySeniXcS1LWVpUBe6Y2hDBGh2g3zru/Rkdvv7lHZgu6BNyb1tETCCU5TvpHJVd7YxoR7cGEWHQQcycmpVL6OYwhXG52nv/r2fPBICDfyzhPDyY6uei0p3/p0t3Qgby65phmaTPbqDM5FPy43iRp4zCJ5hKgmHlhXeGS7y2AavTSMk6Da4jz7bLZkIXM90MWcIh4saXU61cJKkPz2cuzovU07WaFwCo9rapbzfbuSSfrYvQ=
  - secure: "o8U8fTK6YwArlxxlpAPhPh2GV+Dl63R9K/Oq3jN4mjrrS+jvf905EqeQSEquC1uZ/ZwbD34kaFj/a50qX23axZFf09Sy9kPFNHgSNPXURZtshCNn2IimsU3eCKb6lM1MyKRa5Ue81sZVT+3Q673q9ndorHbjINb/iCg7wzx+DBNeuG5R8DXFM8ddxf19fKKkQSbzwa64lgZ8gH19TWShg2pYgLCxJxfYrt2acIJEshYyCbJxGrMVdkPztCaXqePV17saNUkbuYcVdAe3KkK/GsPe52FucbiVed705CDIJ3ODpWrx4Nsj9uFg9wuiCWWjBYIwpT+svV1lmvT9X5ViSMnazV+sNY1vpq5zDItU/lg9RsiVGVns4EEYAoJ4J4ky7KB6CC/9Nx7+oWoCNDfC80i61eEXNqg+TuKeBYKmOs/l5GnAyE7voxXUoyqBak7yu97Wp9iTRg6AoXSWiMeWnYBS5yRS/8gAaPUvfvp42ahZkiRli3R18E3s9LG1x/LowZhhGDDHum3QklJzPJlMm8BWSBJkhOgLApNWELZAtwS5yiEw4QIEQyZNEaoH9ENnpAfJIsPv1dX4nBHUlD8AhERGyUWHY95bL8GPzboBhM08pQdH+caYDRx3Fj3jICkuwYHz7RpDPAdpLMHCYoMQCjxhUy0br9GRRW0/he1Tdbw="
  - secure: "bUq1LIA4FurrzaYPYg3RRKg5aaENIQTOFVCQEH+J81N4h+3O86l8pDM8RVv84M1TvsTpitUD1Agdg6qOK4IG61AVFGh6XHOMc3i/o2X0z03LCjW+J2k0ETPA1DwundgfdBitzEGedO6XQvlhVlVDg7QVEHeA3FxWPWy4+fvGEqDNEHCYPr4Q2Q/59hEXDtMIMvsHA8VOCMTuA+NRY8SkyyewXWSarNrlM+wyhIO8RcZxOEsHPKI+tIWyYInMd5mv2RZX6cs+Ia37c4ajpNXPViAe7oQHI99aFUWsUEfSydqMfVY/iDWig4bs5i/k7mln13RALyqsBFkNB+dSi36FJV2CgqnY9+YjNo4FRarXDlLwaGGPsVCgjN1xxeD+MOSqJaCM2aNiNPgB5KsGDLDTLQbcGJr4frjtGG0x1mTBD+n3GyxYcum6dWlUNGJ7IN1rShQFC+e//oHAEDNmNGkKzVVbBLJZTyirm5GJYpUq4vWDmFJsEb2CK1C2W4qVX/NSmixD2/S0x2+osWgPitkIlyKQwOjSFag6hEpqQNwuNv7HCO2JtCjfg25Ur4itZkon5oICRgznhfWuDGf9UbBc+SI3vPGlhkjH3oUqa4RCn/W5BVeug/xrfRB6AJ9k1mg8g1xCvECG2ZA9epA40PDdDqcsS6WyYcEPPvnk2wpqZY0="
  - secure: "lUTaoCHgQk0xYpEtRFPJXn1Eduf5WVCyAa6/cWECGcYfrhW3kYXDHKtHwhUwi/HPGyLg0ZFi1DBaiv7QareW/D1GwlPV+UTgmc1TY02XwLz7kFPb4A9896nCVOwR5xMuTL7TFzuB8/5bFGf6GGvrGnlGKWZCIOw3d8OLaiUib+BzezMsMJjouJwUiPpg9LzdhRORK4aj+uwCD+27o3i1u2yXiv4ljY/j4rMFdNAYWup5m2QPESGXJR4aTuf2uFYUEAURkUcOhtH9Uq6XQqUbW1IJqD9UVbtLGo6qCN813UXlt17DoqkPWjvsRiC7JBLFqZpT9+wrGcfSuF4HZJJOZrWxfnD/uzL4M485eUwePKCaA1M5EfYu+wpmcz5z00O59PJISAEMrmIvJTj0T87tOdKzI/TzO1ifAUMjs2z0fJOTD4O83PvQ56oppc9fsNo2jkO74DDauoSFXNo9IRHqj/ZBoklGxSA8MWjqu5mFxwEqFVca5IfUXgqI0fiBDqU81lHqsxEKiMO0C4LYD6w3yVtm3clCyMAvYIpU1owPUnA5F3V7JkhlUh8RPOViZ3xIgCZTU4lfA+jTjvC0L4nP2/xKIQMlJlUokDjqn7S2rD6Ujb0kxcxhj9d5s1dlLrJJfaqJKeE+S0yfiG8CHEEwmOlq5yEzHdt5XuKcgR5lMgY="
  - secure: "fSbp+LPptgRnMq2symJ9p+ViCevCWjuj7t38tNJrU+shlEj803Ax5G6vfCqOrOZvHS6cksLre82C1P0XyuEytN8aXJWYy0tjvKGPyXzvT+8o1xOuer9esqDtue8tZ7VlTcugPphJJtVdASPyN+8jI/mBZEp5+GPQUZIeTsAII5GzuWNJURgTbDUKZNQTPpsn+QP0cGl53waBXrA76bBFfPZxI42PEiMzaKljMuEUl9fm9KoZvVpUiDO9/N4K+8/dYGD+AMa0ny+P/gL+HS9r6nLiylF842pHzLjptin4w+8JwCyzvD7Jz+lcrwuc/XdL025V4qtPFKkaN6OvC9dcjtwkf7CVToayyLI2vR1hMLkJu/bgniMS7Wg0jHzD81zYdtbuksG98qUOO7nDp7U/BZvvHhOFVW7fXYcigwknLlW+b0z3bfKbWOfl/Hlt00UNR2nxGLb4sotQJWGfS4jdltN9FXmTMcrKSKgLYWb0hBY06Rk6Dbli2I/We3295kklVtusebpyX3peQzRT4aws6kmXlWdaHEDus5jfTgvVMm+5u7mB2UhO0kXUnFvkytgj8PROubiAMzfmFDGzE+4+aW4ihWA5OimrEyUZk4LWpQ6IV/l80yFNj2Q1EXTXBzaRpOk4xoQ4l0ZTLa6aPWDWgalnnMjZceTkdOJBf8rHOfo="
# don't configure any notifications and use defaults from travis
# see http://docs.travis-ci.com/user/notifications/ (notifications for broken builds and when status changes)
